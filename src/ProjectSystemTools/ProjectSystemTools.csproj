<Project Sdk="Microsoft.NET.Sdk">

  <Import Project="..\..\build\import\VisualStudioDesigner.props" />
  
  <PropertyGroup>
    <RootNamespace>Microsoft.VisualStudio.ProjectSystem.Tools</RootNamespace>
    <AssemblyName>Microsoft.VisualStudio.ProjectSystem.Tools</AssemblyName>

    <EnableDefaultEmbeddedResourceItems>false</EnableDefaultEmbeddedResourceItems>
    <IsProductComponent>false</IsProductComponent>
    <PublishOutputToSymStore>false</PublishOutputToSymStore>

    <!-- VSIX -->
    <ExtensionInstallationRoot>CommonExtensions</ExtensionInstallationRoot>
    <ExtensionInstallationFolder>Microsoft\ProjectSystemTools</ExtensionInstallationFolder>
    <UseCodebase>true</UseCodebase>

    <!-- Disable warnings if there is a mismach of Embed Interop types. The Roslyn packages references some shell
         binaries without it, but Microsoft.VisualStudio.SDK.EmbedInteropTypes turns it on. Silencing the warning will
         mean we won't embed the things already not being embedded, but that's harmless. -->
    <NoWarn>1762</NoWarn>
    
    <!-- Missing XML comment (not a library)-->
    <NoWarn>$(NoWarn);1591</NoWarn>

    <!-- Work around dotnet/wpf#1718 for the time being -->
    <EmbedUntrackedSources>false</EmbedUntrackedSources>
  </PropertyGroup>
  <ItemGroup>
    <None Include="xlf\*" />
    <EmbeddedResource Include="BinaryLogEditor\BinaryLogEditorResources.resx">
      <Generator>ResXFileCodeGenerator</Generator>
      <LastGenOutput>BinaryLogEditorResources.Designer.cs</LastGenOutput>
    </EmbeddedResource>
    <EmbeddedResource Include="BuildLogging\BuildLoggingResources.resx" GenerateSource="true">
      <SubType>Designer</SubType>
    </EmbeddedResource>
    <EmbeddedResource Include="RoslynLogging\RoslynLoggingResources.resx">
      <Generator>ResXFileCodeGenerator</Generator>
      <LastGenOutput>RoslynLoggingResources.Designer.cs</LastGenOutput>
      <SubType>Designer</SubType>
    </EmbeddedResource>
    <EmbeddedResource Include="TableControl\TableControlResources.resx" GenerateSource="true" />
    <EmbeddedResource Include="VSPackage.resx">
      <MergeWithCTO>true</MergeWithCTO>
      <ManifestResourceName>VSPackage</ManifestResourceName>
      <SubType>Designer</SubType>
    </EmbeddedResource>
    <ProjectReference Include="..\LogModel\LogModel.csproj">
      <Name>LogModel</Name>
      <Private>true</Private>
    </ProjectReference>
    <ProjectReference Include="..\LogProviders\LogProviders.csproj">
      <Name>LogProviders</Name>
      <Private>true</Private>
    </ProjectReference>
    <VSCTCompile Include="ProjectSystemToolsPackage.vsct">
      <ResourceName>Menus.ctmenu</ResourceName>
      <SubType>Designer</SubType>
    </VSCTCompile>
  </ItemGroup>
  <ItemGroup>
    <Content Include="Icon.png">
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
      <IncludeInVSIX>true</IncludeInVSIX>
    </Content>
  </ItemGroup>
  <ItemGroup>
    <Page Include="BinaryLogEditor\BuildTreeViewControl.xaml">
      <SubType>Designer</SubType>
      <Generator>MSBuild:Compile</Generator>
    </Page>
    <Page Include="BinaryLogEditor\LogViewControl.xaml">
      <SubType>Designer</SubType>
      <Generator>MSBuild:Compile</Generator>
    </Page>
    <Page Include="BinaryLogEditor\EvaluationTreeViewControl.xaml">
      <SubType>Designer</SubType>
      <Generator>MSBuild:Compile</Generator>
    </Page>
  </ItemGroup>
  <ItemGroup>
    <Compile Update="BinaryLogEditor\BinaryLogEditorResources.Designer.cs">
      <DesignTime>True</DesignTime>
      <AutoGen>True</AutoGen>
      <DependentUpon>BinaryLogEditorResources.resx</DependentUpon>
    </Compile>
    <Compile Update="BinaryLogEditor\BuildTreeViewControl.xaml.cs">
      <DependentUpon>BuildTreeViewControl.xaml</DependentUpon>
    </Compile>
    <Compile Update="BinaryLogEditor\EvaluationTreeViewControl.xaml.cs">
      <DependentUpon>EvaluationTreeViewControl.xaml</DependentUpon>
    </Compile>
    <Compile Update="BinaryLogEditor\LogViewControl.xaml.cs">
      <DependentUpon>LogViewControl.xaml</DependentUpon>
    </Compile>
    <Compile Update="RoslynLogging\RoslynLoggingResources.Designer.cs">
      <DesignTime>True</DesignTime>
      <AutoGen>True</AutoGen>
      <DependentUpon>RoslynLoggingResources.resx</DependentUpon>
    </Compile>
    <Compile Update="VSPackage.Designer.cs">
      <DesignTime>True</DesignTime>
      <AutoGen>True</AutoGen>
      <DependentUpon>VSPackage.resx</DependentUpon>
    </Compile>
  </ItemGroup>
</Project>